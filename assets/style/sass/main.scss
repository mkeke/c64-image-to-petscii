@import "base";

* {
    margin: 0; padding: 0;
}

ul {
    list-style: none;
}

html, body {
    // height: 100%;
    background-color: #000;
    color: #eeeeee;
    padding: 10px;
    font-family: monospace;
    font-size: 12px;
}

.layout {
    width: 100%;
    min-width: 690px;
    max-width: 1000px;
    margin: 0 auto 20px;

    .content {
        h1 {
            text-align: center;
        }
        p.intro {
            padding: 5px;
            box-sizing: border-box;
        }
    }
}

section {
    background-color: #212121;
    width: 100%;
    padding: 5px;
    box-sizing: border-box;
    text-align: center;
}

canvas {
    display: inline-block;
    background-color: black;
    margin-bottom: 5px;
    p {
        margin-bottom: 5px;
    }
}

/*
    section grid layout
    TODO change order for smaller screens
*/
.content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto;
    grid-column-gap: 30px;
    grid-row-gap: 30px;

    h1 {
        grid-column-start: 1;
        grid-column-end: 3;
    }

    p.intro {
        grid-column-start: 1;
        grid-column-end: 2;
    }

    section.droppable {
        grid-column-start: 1;
        grid-column-end: 2;
    }
    section.a {
        grid-column-start: 2;
        grid-column-end: 3;
    }
    section.b {
        grid-column-start: 2;
        grid-column-end: 3;
    }
    section.c {
        grid-column-start: 1;
        grid-column-end: 2;
        grid-row-start: 4;
    }
    section.d {
        grid-column-start: 1;
        grid-column-end: 2;
    }
    section.e {
        grid-column-start: 2;
        grid-column-end: 3;
    }
    section.f {
        grid-column-start: 1;
        grid-column-end: 3;
    }
}

@media(max-width: 710px) {
    .layout {
        background-color: red;
    }
}

/*
    arrow between sections
    TODO responsive to narrow screens
*/
p.intro, section {
    position: relative;
    &:after {
        content: '';
        position: absolute;
        width: 30px;
        height: 30px;

        $svg-body: (
            '<path stroke="green" stroke-width="2" fill="none" '
            'd="M20,2 V38 M5,25 L 20,38 L 35,25" '
            '/>'
        );
        @include svg(40, 40, $svg-body, 0, 0, contain, center center);

    }
}

p.intro:after {
    left: 0;
    top: 100%;
}
section.droppable:after {
    left: 100%;
    top: 50%;
    transform: translate(0, -50%) rotate(-90deg);
}
section.a:after {
    left: 50%;
    top: 100%;
    transform: translate(-50%, 0);
}
section.b:after {
    right: 100%;
    top: 50%;
    transform: translate(0, -50%) rotate(90deg);
}
section.c:after {
    left: 50%;
    top: 100%;
    transform: translate(-50%, 0);
}
section.d:after {
    left: 100%;
    top: 50%;
    transform: translate(0, -50%) rotate(-90deg);
}
section.e:after {
    left: 50%;
    top: 100%;
    transform: translate(-50%, 0);
}
section.f:after {
    content: none;
}





.droppable {
    box-sizing: border-box;
//    border: 2px dashed #666;
    background-color: transparent;
    position: relative;
    &.dragover {
        //border: 2px solid green;
        background-color: white;
    }
    $svg-body: (
        '<g stroke="none">'
        '    <path fill="#002255" d="'
        '        M 314,31'
        '        V 147'
        '        A 128,124 0 1 0 314,359'
        '        V 475'
        '        A 232,233 0 1 1 314,31'
        '        M 317,165 H 491 L 412,246 H 317 Z"/>'
        '    <path fill="#ff0000" d="'
        '        M 317,261 H 412 L 491,342 H 317 Z"/>'
        '</g>'
    );
    @include svg(500, 500, $svg-body, 0, 0, contain, center center);

    div {
        position: absolute;
        left: 5px;
        top: 5px;
        right: 5px;
        bottom: 5px;
//        background-color: #ffffff30;


    }
}

/*
    section {
        display: inline-block;
        vertical-align: top;
        width: 320px;
        height: 200px;
        background-color: black;
        margin: 0 5px 10px;
        text-align: left;

        &.droppable {
        }
    }
*/





/*

section {
    display: inline-block;
    vertical-align: top;

    margin: 0 auto 10px auto;
    padding: 5px;

    white-space: nowrap;

    canvas {
        width: 320px;
        height: 200px;
        background-color: black;
        display: block;
        margin: 0 auto;
    }
    p {
        width: 320px;
        height: auto;
        padding: 5px;
        box-sizing: border-box;

        text-align: left;
        background-color: #333;
        display: inline-block;
        vertical-align: top;
        white-space: normal;
    }
}


section.b canvas {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: left top;
}
*/

.colors {
    width: 100%;
    height: 0;
    padding-bottom: percentage(1/16);
    margin: 0 auto 15px;

    $svg-body: (
        '<rect x="0" y="0" width="2" height="2" fill="#000000" stroke="none"/>'
        '<rect x="2" y="0" width="2" height="2" fill="#ffffff" stroke="none"/>'
        '<rect x="4" y="0" width="2" height="2" fill="#880000" stroke="none"/>'
        '<rect x="6" y="0" width="2" height="2" fill="#aaffee" stroke="none"/>'
        '<rect x="8" y="0" width="2" height="2" fill="#cc44cc" stroke="none"/>'
        '<rect x="10" y="0" width="2" height="2" fill="#00cc55" stroke="none"/>'
        '<rect x="12" y="0" width="2" height="2" fill="#0000aa" stroke="none"/>'
        '<rect x="14" y="0" width="2" height="2" fill="#eeee77" stroke="none"/>'
        '<rect x="16" y="0" width="2" height="2" fill="#dd8855" stroke="none"/>'
        '<rect x="18" y="0" width="2" height="2" fill="#664400" stroke="none"/>'
        '<rect x="20" y="0" width="2" height="2" fill="#ff7777" stroke="none"/>'
        '<rect x="22" y="0" width="2" height="2" fill="#333333" stroke="none"/>'
        '<rect x="24" y="0" width="2" height="2" fill="#777777" stroke="none"/>'
        '<rect x="26" y="0" width="2" height="2" fill="#aaff66" stroke="none"/>'
        '<rect x="28" y="0" width="2" height="2" fill="#0088ff" stroke="none"/>'
        '<rect x="30" y="0" width="2" height="2" fill="#bbbbbb" stroke="none"/>'
    );
    @include svg(32,2,$svg-body);
}

.logo {
    width: 50%;
    height: 0;
    padding-bottom: 50%;
    margin: 0 auto 15px;
    background-color: white;

    $svg-body: (
        '<g stroke="none">'
        '    <path fill="#002255" d="'
        '        M 314,31'
        '        V 147'
        '        A 128,124 0 1 0 314,359'
        '        V 475'
        '        A 232,233 0 1 1 314,31'
        '        M 317,165 H 491 L 412,246 H 317 Z"/>'
        '    <path fill="#ff0000" d="'
        '        M 317,261 H 412 L 491,342 H 317 Z"/>'
        '</g>'
    );
    @include svg(500, 500, $svg-body);
}

.ref {
    image-rendering: pixelated; // chrome
    // image-rendering: crisp-edges; firefox
    $w: 128;
    $h: 128;
    $scale: 4;
    width: #{$w * $scale}px;
    height: #{$w * $scale}px;
    margin: 0 auto 15px;

    background: url('assets/images/petscii_0-255_16x16.png') no-repeat left top;
    background-size: contain;    
}
